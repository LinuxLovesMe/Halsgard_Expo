<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_dialogue_1</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>x = room_width / 2;
y = room_height / 2;
instance_create(x, y, obj_dial_icon_1);
instance_create(x, y, obj_dialogue_snow);

xx = x - sprite_width / 2; //start x-point of dialogue sprite
yy = y - sprite_height / 2; //start y-point of dialogue sprite

file = file_text_open_read("ragn_text_1.txt");
info = 0;

while(!file_text_eof(file))
{
    str = file_text_readln(file);
    if (string_pos("#", str) != 0)
    {
        sub_str = string_copy(str, 0, 5);
        
        num = real(string_digits(sub_str));
        if (num != 0) 
        {
            info[num - 1, 0] = str;
        }
        k = 1;
    }
    if (string_pos("@", str) != 0)
    {
        if (num != 0)
        {
            info[num - 1, k++] = str;
        }
    }
}

file_text_close(file);

pointer = 0;
pointer_t = 0;
replica = 1;
separator_r = 48;
separator_a = 54;
string_w = sprite_width - 450;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with (obj_dial_icon_1) instance_destroy();
with (obj_dialogue_snow) instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (!replica)
{
    for (k = 1; k &lt; array_length_2d(info, pointer); k++)
    {
        if ((point_in_rectangle(mouse_x, mouse_y, xx + 36, yy + 320 + separator_a * (k - 1) + 10, 
            xx - 20 + string_width(info[pointer, k]), yy + 320 + separator_a * (k) - 10)) and mouse_check_button_released(mb_left)) 
        {
            pointer_t = real(string_digits(info[pointer, k]));
            break;
        }
        else pointer_t = 0;
    }

    if (pointer_t != 0)
    {
        switch (pointer_t)
        {
            case 7:
                obj_ragn_control_1.final_1 = 1;
            break;
            
            case 8:
                obj_ragn_control_1.final_2 = 1;
            break;
            
            default:
                replica = 1;
                pointer = pointer_t - 1;
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self();
myColor = make_colour_rgb(120, 168, 194);
draw_set_font(Underdog_20);

text = 0; text[0] = info[pointer, 0];

for (k = 1; k &lt; array_length_2d(info, pointer); k++)
{
    text[k] = info[pointer, k];
}

for (k = 0; k &lt; array_length_1d(text); k++)
{
    sub_str = string_copy(text[k], 0, 5);
    num = string_digits(sub_str);
    text[k] = string_replace_all(text[k], "#", "");
    text[k] = string_replace_all(text[k], "@", "");
    text[k] = string_replace_all(text[k], num, "");
}

if (replica)
{
    draw_text_ext_transformed_colour(xx + 36, yy + 320, text[0], separator_r, string_w, 1, 1, 0, c_white, c_white, c_white, c_white, 1);
}
else
{
    offset = 320;
       
    for (k = 1; k &lt; array_length_2d(info, pointer); k++)
    {
        draw_text_ext_transformed_colour(xx + 36, yy + offset, text[k], separator_a, string_w, 1, 1, 0, myColor, myColor, myColor, myColor, 1);
        offset += separator_a;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
